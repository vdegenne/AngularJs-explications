<!DOCTYPE html>
<html ng-app=app>
<head>
<title>chameleon</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.js"></script>
</head>


<body>


<!-- // VIEW -->
<div ng-init="environment='natural'">
  environment : <input ng-model=environment><hr>
  <chameleon env="{{ environment }}"></chameleon>
</div>




<!-- // ANGULAR -->
<script>(function (angular) {
  
  angular.module('app', [])
  // ----------------------------------------------- <chameleon>
  .directive('chameleon', function () { return {
    
    template: 'I am {{ color }} !'
    
    ,scope: {} // isolated
  
    ,link: function (scope, element, attrs) {
  
      attrs.$observe('env', function () {
         scope.color = getColor();
      });
  
      function getColor () {
         switch (attrs.env) {
            case 'excited': return 'red';
            case 'natural':
            default: return 'green';
         }
      }
      
    }
  
  }});
  // ----------------------------------------------- </chameleon>  
})(window.angular)</script>



</body>
</html>